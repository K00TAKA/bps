<div class="container py-5">
  <h3>コメント一覧</h3>
  <div>コメント件数：<%= @company.comments.count %></div>

  <table class="table table-borderbottom">
    <thead class="thead-info">
      <tr>
        <th class="text-center" style="width: 20%;">投稿日</th>
        <th style="width: 60%;">コメント内容</th>
        <th class="text-center" style="width: 20%;">いいね</th>
      </tr>
    </thead>
    <% @comments.each do |comment| %>
      <% if comment.is_active %>
      <tbody>
        <tr>
          <td class="text-center"><%= comment.created_at.strftime('%Y/%m/%d') %></td>
          <td><%= comment.comment %></td>
          <td class="text-center">
            <% if comment.favorited_by?(current_member) %>
              <p>
                <%= link_to comment_favorites_path(comment), method: :delete do %>
                  <%= comment.favorites.count %> いいね
                <% end %>
              </p>
            <% else %>
              <p>
                <%= link_to comment_favorites_path(comment), method: :post do %>
                  <%= comment.favorites.count %> いいね
                <% end %>
              </p>
            <% end %>
          </td>
        </tr>
      </tbody>
      <% end %>
    <% end %>
  </table>
  <div><%= paginate @comments %></div>
</div>

<style>
.container {
  font-family: "Noto Sans JP", sans-serif;
  font-optical-sizing: auto;
  font-weight: 400;
  font-style: normal;
}

.thead-info {
  background-color:#00CED1;
}

.pagination {
  justify-content: center;
}
</style>